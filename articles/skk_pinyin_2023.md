---
title: "SKKで簡体字を入力する"
emoji: "📝"
type: "tech"
topics: ["vim", "neovim", "skk", "chinese", "emacs", "macOS", "windows", "linux"]
published: true
---

# SKKで簡体字を入力する。

SKKとは日本語向けのかな漢字の入力方式である。
もともとは、Emacs上に佐藤雅彦氏が実装したのが始まりである。
当然(?) Vimにも実装されており、3つの実装 skk.vim, eskk.vim, skkeletonの3つが存在する。
さらに、テキストエディタ上だけでなく、OSレヴェルでもSKKを実装したIMEが存在し、
Windows、 macOS、 Linux (および \*nix)、Android、iOSとほとんどのコンシューマー向けのOSで
SKKを使った入力方法が存在する。一度覚えると、どこでも使える便利な入力方式である。

冒頭でも伸べた通りSKKは かな**漢字** の入力方式である。
統計情報に基づいた予測変換も行なわないため、
日本語文における漢字の出現頻度などの情報も用いられていない。
つまり漢字であれば日本語に限らず自然に入力することができる可能性を秘めている。

この記事ではタイトル通り簡体字の入力について伸べる。
簡体字とは中国で広く用いられている漢字の一種である。
これらの漢字では、日本語の読みと同様に、それぞれに読みが設定されており、
標準ではアルファベットと発音記号によって設定される。
例えば、汽 という字には qi が割り当てられている。

さてSKKはかなから漢字への変換が標準であるので、
ひらがなを入力して 漢字にする必要がある。しかし、qi に対応するひらがなは存在しない。

> ▽い # shift+qi を入力した状態

つまり、かな漢字入力ではSKKでも簡体字を入力できない。
そこで、SKKの短縮入力機能を用いる。

SKKにはかな漢字変換の開始にshiftキーが割り当てられている。
短縮入力は / で起動される。 / を押すと、かな漢字入力のときと同様に ▽ が表示され
入力待ち状態になる。そこで qi と入力してみる。▽qi というようにひらがなが入力
されずにqiを入力した状態になるはずである。この状態でspaceキーを押すとskkの辞書から
qiというエントリが検索され汽が入力される。

> ▽qi # /qi を入力した状態

ところで、注意しておくべきことが一つあった。
SKKの辞書は標準ではSKK_JISYO.Lが用いられることが多い、しかしL辞書には
簡体字が含まれていない。そのため SKK_JISYO.pinyinをL辞書の他に追加する必要がある。
この辞書は、https://github.com/skk-dev/dict や https://github.com/skk-dict/jisyo から
ダウンロードできる。
複数辞書を追加する方法はSKK実装によって異なるが、ここでは、skkeletonによる方法を紹介する。
skkeletonではglobalDictionariesというエントリに複数辞書を渡すことができる。

```lua
vim.fn["skkeleton#config"]({
  globalDictionaries = {
    dict_path .. "/SKK-JISYO.L.json", -- 新JISYO形式
    dict_path .. "/SKK-JISYO.pinyin.json", -- 新JISYO形式
  },
})
```

この辞書を追加することですぐに簡体字が入力することができるようになる。
さらにpinyin辞書では、単漢字のほかにも単語も入力できる。

> ▽nihao → 你好

短縮入力とかな漢字入力を組み合わせることで自然に簡体字と日本語を混ぜて書くことができる。

> TanoShii/hanyuWoYoMu → 楽しい汉语を読む

この短縮入力方法には色々な活用が考えられる。
アルファベットの列から適当な変換への辞書登録ができるので、
簡体字への登録だけでなく、LaTeXのコマンドから数式記号や、
emojiへの変換など、辞書さえあれば漢字だけでない種々の入力が可能となる。
ぜひSKKをかな漢字入力としてだけでなく、ユニバーサルな入力方式として活用してみていただきたい。
それでは、再见!